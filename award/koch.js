const HEIGHT = 1;

function adobe() {
  var poly = polygon([

    [0,0],
    [48,118],
    [83,118],
    [134,0],
    [95,0],
    [66,74],
    [46,25],
    [69,25],
    [77,0]
  ]);

  return linear_extrude({height: HEIGHT}, poly).setColor([1,1,1]).scale([0.05, 0.05, 1]).translate([-3.3,10,0.6]).rotateZ(-126);
}

function createText(m) {
    if ( typeof m === 'string' ) m = { text: m };

    return Object.assign({
      text: 'A',
      w: 3,
      scale: 0.13,
      justify: 'L',
      a: 0,
      color: [0,0,0],
      toSolid: function() {
        var o = [];
        var l = vector_text(0, 0, this.text);

        l.forEach(s => o.push(rectangular_extrude(s, {w: this.w, h:5})));

        var txt = union(o).setColor(this.color).scale([this.scale, this.scale, 1]);

        if ( this.a ) txt = txt.rotateZ(this.a);

        var bounds = txt.getBounds();
        if ( this.justify === 'R' ) {
          txt = txt.translate([-bounds[1].x, -bounds[0].y, 0]);
        } else if ( this.justify === 'C' ) {
          txt = txt.translate([-bounds[1].x/2, -bounds[0].y, 0]);
        } else {
          txt = txt.translate([-bounds[0].x, -bounds[0].y, 0]);
        }

        return txt;
      }
    }, m);
}



function tri() {
  // data from Vesna's program
  var poly = polygon([
  [0.66, 0],[0.6431093043069432, 0.023248048176103753],[0.6547973567693252, 0.04949984382193531],[0.6262186086138863, 0.04649609635220751],[0.6093279129208296, 0.06974414452831126],[0.6210159653832115, 0.0959959401741428],[0.6495947135386503, 0.09899968764387057],[0.6327040178455934, 0.12224773581997433],[0.6443920703079753, 0.14849953146580586],[0.6158133221525365, 0.14549578399607807],[0.5989226264594797, 0.16874383217218178],[0.5872345739970978, 0.1424920365263503],[0.558655825841659, 0.13948828905662253],[0.5417651301486022, 0.1627363372327263],[0.5534531826109841, 0.18898813287855784],[0.5248744344555453, 0.18598438540883003],[0.5079837387624885, 0.2092324335849338],[0.5196717912248704, 0.2354842292307653],[0.5482505393803091, 0.23848797670049307],[0.5313598436872523, 0.2617360248765968],[0.5430478961496342, 0.28798782052242833],[0.5716266443050729, 0.2909915679921561],[0.5885173399981298, 0.26774351981605227],[0.6002053924605117, 0.29399531546188384],[0.6287841406159504, 0.2969990629316116],[0.6118934449228937, 0.32024711110771537],[0.6235814973852755, 0.3464989067535469],[0.5950027492298368, 0.3434951592838191],[0.57811205353678, 0.36674320745992284],[0.5898001059991619, 0.39299500310575436],[0.6183788541546006, 0.3959987505754821],[0.6014881584615438, 0.4192467987515858],[0.6131762109239257, 0.44549859439741735],[0.584597462768487, 0.4424948469276896],[0.5677067670754301, 0.4657428951037934],[0.5560187146130482, 0.43949109945796183],[0.5274399664576095, 0.4364873519882341],[0.5105492707645527, 0.45973540016433784],[0.5222373232269346, 0.4859871958101694],[0.4936585750714958, 0.48298344834044166],[0.47676787937843895, 0.5062314965165454],[0.46507982691605704, 0.4799797008707139],[0.4365010787606182, 0.4769759534009862],[0.45339177445367507, 0.4537279052248824],[0.44170372199129315, 0.42747610957905086],[0.4131249738358544, 0.4244723621093231],[0.39623427814279755, 0.44772041028542686],[0.38454622568041563, 0.42146861463959534],[0.35596747752497687, 0.4184648671698676],[0.33907678183192, 0.44171291534597135],[0.3507648342943019, 0.4679647109918028],[0.3221860861388632, 0.46496096352207505],[0.30529539044580634, 0.4882090116981788],[0.31698344290818825, 0.5144608073440103],[0.345562191063627, 0.517464554813738],[0.3286714953705702, 0.5407126029898418],[0.34035954783295214, 0.5669643986356733],[0.3117807996775134, 0.5639606511659455],[0.29489010398445664, 0.5872086993420493],[0.2832020515220746, 0.5609569036962179],[0.25462330336663586, 0.5579531562264901],[0.237732607673579, 0.5812012044025938],[0.24942066013596098, 0.6074530000484254],[0.22084191198052217, 0.6044492525786976],[0.20395121628746532, 0.6276973007548013],[0.1766214965624679, 0.6188173365236247],[0.15526636209107314, 0.6380455859681928],[0.14929177683747047, 0.6099373722924482],[0.12196205711247303, 0.6010574080612715],[0.10060692264107818, 0.6202856575058396],[0.10658150789468068, 0.6483938711815843],[0.07925178816968334, 0.6395139069504077],[0.05789665369828849, 0.6587421563949758],[0.05192206844468591, 0.630633942719231],[0.024592348719688552, 0.6217539784880544],[0.04594748319108332, 0.6025257290434863],[0.03997289793748074, 0.5744175153677415],[0.012643178212483314, 0.5655375511365649],[-0.008711956258911434, 0.584765800581133],[-0.014686541512514112, 0.5566575869053884],[-0.04201626123751154, 0.5477776226742117],[-0.06337139570890636, 0.5670058721187798],[-0.057396810455303746, 0.5951140857945246],[-0.08472653018030118, 0.586234121563348],[-0.10608166465169601, 0.6054623710079161],[-0.10010707939809342, 0.6335705846836609],[-0.07277735967309606, 0.6424505489148375],[-0.09413249414449085, 0.6616787983594056],[-0.08815790889088826, 0.6897870120351504],[-0.11548762861588567, 0.6809070478039737],[-0.1368427630872805, 0.7001352972485418],[-0.14281734834088308, 0.6720270835727971],[-0.17014706806588048, 0.6631471193416204],[-0.1915022025372753, 0.6823753687861885],[-0.18552761728367267, 0.7104835824619333],[-0.21285733700867013, 0.7016036182307567],[-0.23421247148006494, 0.7208318676753248],[-0.24018705673366755, 0.69272365399958],[-0.2675167764586649, 0.6838436897684034],[-0.24616164198727014, 0.6646154403238353],[-0.25213622724087276, 0.6365072266480906],[-0.2794659469658702, 0.6276272624169139],[-0.30082108143726505, 0.646855511861482],[-0.3067956666908676, 0.6187472981857373],[-0.33412538641586503, 0.6098673339545606],[-0.3127702519444702, 0.5906390845099925],[-0.31874483719807273, 0.5625308708342477],[-0.29141511747307536, 0.5714108350654244],[-0.27005998300168055, 0.5521825856208563],[-0.27603456825528316, 0.5240743719451115],[-0.3033642879802806, 0.5151944077139349],[-0.2820091535088858, 0.4959661582693668],[-0.2879837387624884, 0.46785794459362207],[-0.3153134584874858, 0.4589779803624454],[-0.33666859295888063, 0.47820622980701355],[-0.34264317821248325, 0.4500980161312688],[-0.36997289793748067, 0.44121805190009217],[-0.3913280324088755, 0.4604463013446603],[-0.3853534471552729, 0.4885545150204051],[-0.41268316688027035, 0.4796745507892284],[-0.43403830135166516, 0.4989028002337965],[-0.4400128866052678, 0.4707945865580518],[-0.4673426063302652, 0.4619146223268751],[-0.44598747185887033, 0.442686372882307],[-0.45196205711247295, 0.41457815920656227],[-0.4792917768374704, 0.4056981949753856],[-0.5006469113088652, 0.42492644441995375],[-0.5066214965624678, 0.396818230744209],[-0.5339512162874652, 0.38793826651303237],[-0.5339512162874652, 0.35920209862317815],[-0.5588374676874936, 0.34483401467825103],[-0.5339512162874652, 0.33046593073332386],[-0.5339512162874652, 0.30172976284346964],[-0.5588374676874936, 0.2873616788985425],[-0.5837237190875221, 0.30172976284346964],[-0.5837237190875221, 0.27299359495361536],[-0.6086099704875505, 0.25862551100868825],[-0.5837237190875221, 0.24425742706376113],[-0.5837237190875221, 0.2155212591739069],[-0.5588374676874936, 0.22988934311883402],[-0.5339512162874652, 0.2155212591739069],[-0.5339512162874652, 0.18678509128405266],[-0.5588374676874936, 0.17241700733912554],[-0.5339512162874652, 0.15804892339419843],[-0.5339512162874652, 0.12931275550434418],[-0.5588374676874936, 0.11494467155941707],[-0.5837237190875222, 0.12931275550434426],[-0.5837237190875222, 0.10057658761448995],[-0.6086099704875506, 0.08620850366956284],[-0.633496221887579, 0.10057658761448995],[-0.633496221887579, 0.12931275550434418],[-0.6583824732876075, 0.11494467155941707],[-0.6832687246876359, 0.12931275550434418],[-0.6832687246876359, 0.10057658761448995],[-0.7081549760876643, 0.08620850366956284],[-0.6832687246876359, 0.07184041972463573],[-0.6832687246876359, 0.043104251834781504],[-0.7081549760876643, 0.02873616788985439],[-0.7330412274876927, 0.0431042518347816],[-0.7330412274876928, 0.014368083944927279],[-0.7579274788877213, 1.6653345369377348e-16],[-0.7330412274876928, -0.014368083944926965],[-0.7330412274876928, -0.0431042518347812],[-0.7081549760876644, -0.028736167889854097],[-0.683268724687636, -0.043104251834781226],[-0.683268724687636, -0.0718404197246355],[-0.7081549760876644, -0.08620850366956262],[-0.683268724687636, -0.10057658761448976],[-0.683268724687636, -0.129312755504344],[-0.6583824732876076, -0.11494467155941689],[-0.633496221887579, -0.12931275550434407],[-0.633496221887579, -0.10057658761448975],[-0.6086099704875506, -0.08620850366956262],[-0.5837237190875222, -0.10057658761448975],[-0.5837237190875222, -0.12931275550434398],[-0.5588374676874938, -0.11494467155941689],[-0.5339512162874653, -0.129312755504344],[-0.5339512162874653, -0.15804892339419827],[-0.5588374676874938, -0.17241700733912538],[-0.5339512162874653, -0.1867850912840525],[-0.5339512162874653, -0.21552125917390674],[-0.5588374676874938, -0.22988934311883388],[-0.5837237190875222, -0.21552125917390677],[-0.5837237190875222, -0.244257427063761],[-0.6086099704875506, -0.25862551100868814],[-0.5837237190875222, -0.27299359495361525],[-0.5837237190875222, -0.3017297628434695],[-0.5588374676874938, -0.28736167889854236],[-0.5339512162874653, -0.3017297628434695],[-0.5339512162874653, -0.3304659307333237],[-0.5588374676874938, -0.3448340146782508],[-0.5339512162874653, -0.359202098623178],[-0.5339512162874653, -0.3879382665130322],[-0.5066214965624679, -0.39681823074420886],[-0.5006469113088653, -0.4249264444199536],[-0.4792917768374705, -0.40569819497538545],[-0.45196205711247306, -0.4145781592065621],[-0.4459874718588705, -0.4426863728823069],[-0.4673426063302653, -0.461914622326875],[-0.4400128866052679, -0.4707945865580516],[-0.4340383013516653, -0.4989028002337964],[-0.41268316688027046, -0.47967455078922827],[-0.3853534471552731, -0.4885545150204049],[-0.39132803240887565, -0.4604463013446602],[-0.3699728979374808, -0.44121805190009206],[-0.34264317821248336, -0.4500980161312687],[-0.33666859295888074, -0.47820622980701344],[-0.31531345848748593, -0.4589779803624453],[-0.2879837387624885, -0.46785794459362195],[-0.2820091535088859, -0.4959661582693667],[-0.3033642879802807, -0.5151944077139348],[-0.27603456825528333, -0.5240743719451114],[-0.2700599830016807, -0.5521825856208562],[-0.2914151174730755, -0.5714108350654243],[-0.3187448371980729, -0.5625308708342476],[-0.3127702519444704, -0.5906390845099924],[-0.3341253864158652, -0.6098673339545605],[-0.3067956666908678, -0.6187472981857371],[-0.3008210814372652, -0.6468555118614818],[-0.2794659469658704, -0.6276272624169138],[-0.252136227240873, -0.6365072266480905],[-0.2461616419872704, -0.6646154403238352],[-0.2675167764586651, -0.6838436897684034],[-0.24018705673366778, -0.6927236539995799],[-0.2342124714800652, -0.7208318676753247],[-0.21285733700867035, -0.7016036182307566],[-0.185527617283673, -0.7104835824619332],[-0.19150220253727554, -0.6823753687861885],[-0.1701470680658807, -0.6631471193416204],[-0.14281734834088325, -0.6720270835727971],[-0.13684276308728058, -0.7001352972485417],[-0.11548762861588582, -0.6809070478039736],[-0.08815790889088837, -0.6897870120351502],[-0.09413249414449097, -0.6616787983594055],[-0.07277735967309622, -0.6424505489148373],[-0.10010707939809359, -0.6335705846836608],[-0.10608166465169619, -0.605462371007916],[-0.08472653018030135, -0.5862341215633479],[-0.057396810455304, -0.5951140857945245],[-0.06337139570890651, -0.5670058721187798],[-0.042016261237511676, -0.5477776226742117],[-0.014686541512514247, -0.5566575869053884],[-0.008711956258911663, -0.5847658005811331],[0.012643178212483182, -0.565537551136565],[0.039972897937480614, -0.5744175153677417],[0.04594748319108323, -0.6025257290434864],[0.024592348719688475, -0.6217539784880546],[0.051922068444685845, -0.6306339427192311],[0.05789665369828846, -0.6587421563949759],[0.07925178816968327, -0.6395139069504078],[0.10658150789468071, -0.6483938711815844],[0.1006069226410781, -0.6202856575058396],[0.1219620571124729, -0.6010574080612715],[0.14929177683747033, -0.6099373722924482],[0.15526636209107292, -0.6380455859681929],[0.17662149656246776, -0.6188173365236248],[0.20395121628746518, -0.6276973007548015],[0.22084191198052203, -0.6044492525786977],[0.24942066013596087, -0.6074530000484255],[0.2377326076735789, -0.5812012044025939],[0.25462330336663574, -0.5579531562264902],[0.2832020515220745, -0.560956903696218],[0.2948901039844564, -0.5872086993420496],[0.3117807996775133, -0.5639606511659457],[0.3403595478329521, -0.5669643986356735],[0.32867149537057017, -0.5407126029898419],[0.34556219106362696, -0.5174645548137381],[0.3169834429081882, -0.5144608073440105],[0.3052953904458063, -0.4882090116981789],[0.3221860861388631, -0.4649609635220751],[0.35076483429430183, -0.46796471099180287],[0.33907678183191997, -0.4417129153459714],[0.3559674775249768, -0.41846486716986764],[0.3845462256804156, -0.4214686146395954],[0.3962342781427975, -0.4477204102854269],[0.41312497383585434, -0.42447236210932315],[0.4417037219912931, -0.4274761095790509],[0.453391774453675, -0.45372790522488243],[0.4365010787606182, -0.47697595340098614],[0.4650798269160569, -0.4799797008707139],[0.47676787937843884, -0.5062314965165454],[0.4936585750714957, -0.48298344834044166],[0.5222373232269344, -0.48598719581016936],[0.5105492707645525, -0.45973540016433795],[0.5274399664576094, -0.4364873519882342],[0.5560187146130482, -0.43949109945796194],[0.5677067670754301, -0.4657428951037934],[0.5845974627684869, -0.4424948469276897],[0.6131762109239257, -0.44549859439741746],[0.6014881584615438, -0.41924679875158594],[0.6183788541546007, -0.3959987505754822],[0.5898001059991619, -0.3929950031057544],[0.57811205353678, -0.3667432074599229],[0.5950027492298369, -0.34349515928381913],[0.6235814973852756, -0.34649890675354683],[0.6118934449228937, -0.32024711110771537],[0.6287841406159506, -0.2969990629316116],[0.6002053924605117, -0.29399531546188384],[0.5885173399981298, -0.2677435198160524],[0.571626644305073, -0.2909915679921561],[0.5430478961496342, -0.28798782052242833],[0.5313598436872523, -0.2617360248765968],[0.5482505393803091, -0.23848797670049307],[0.5196717912248704, -0.2354842292307653],[0.5079837387624885, -0.20923243358493382],[0.5248744344555453, -0.18598438540883006],[0.5534531826109841, -0.18898813287855784],[0.5417651301486022, -0.1627363372327263],[0.558655825841659, -0.13948828905662253],[0.5872345739970978, -0.1424920365263503],[0.5989226264594797, -0.16874383217218178],[0.6158133221525365, -0.14549578399607807],[0.6443920703079753, -0.14849953146580586],[0.6327040178455934, -0.12224773581997432],[0.6495947135386503, -0.09899968764387056],[0.6210159653832115, -0.09599594017414279],[0.6093279129208296, -0.06974414452831126],[0.6262186086138863, -0.046496096352207514],[0.6547973567693252, -0.04949984382193531],[0.6431093043069432, -0.023248048176103757],
  ]);

  return linear_extrude({height: HEIGHT}, poly).setColor([1,0,0]).scale([25,25,1]);
}

function holder() {
  return cylinder({r1:9, r2: 9.9, height:5}).translate([0,0,0.5]);
}

function text() {
    return createText({text: 'Philipp Koch', justify: 'C', color: [1,1,1], scale: 0.105}).toSolid().translate([0,-13,0.6]).rotateZ(-126);
}

function main() {
  return tri().subtract(holder()).subtract(text()).subtract(adobe()).scale(2*77/35);
}
// scale 92, 92, 110
